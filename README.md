### Project Overview

This project follows a two-step approach:

1. **Wireless Channel Dataset Generation**  
   The wireless channel datasets are first generated using geometry-based stochastic channel models (GSCMs), including:
   - **P-GBSM**: Available in the current directory.
   - **QuaDRiGa**: Located in the `QuaDriGa_2023.12.13_v2.8.1-0` folder, which contains the latest version of QuaDRiGa.

2. **Localization Using BP-SLAM**  
   The localization task is then performed using the **BP-SLAM** algorithm (see the `bp_slam_3D` folder for details).  
   Currently, only the localization results obtained using the BP-SLAM method are provided in this project.  
   Please refer to the `all_results` folder for access to these results.


### 1. Data Preparation

Before running any scripts in the `./bp_slam_3D/all_results` directory, you need to download the localization result data generated by the **BP-SLAM** method.

Please download the BP-SLAM localization results from the link below and place the files in the current `all_results` directory.

> ðŸ”— [Download BP-SLAM Localization Results](https://drive.google.com/drive/folders/19Qo6bYp9M5QsC1_Gr5wBvSPTinq1_HV5?usp=sharing)





### 2. Follow-up Work

Once the review is complete, updates to the **P-GBSM**, **QuaDRiGa_2023.12.13_v2.8.1**, and **bp_slam_3D** codes will be carried out in sequence.

---

### 3. BP-SLAM Result Visualization and Evaluation

The positioning performance of the **BP-SLAM** algorithm is evaluated using synthetic data generated from the QuaDRiGa and P-GBSM channel models.  
All results are available in the `./bp_slam_3D/all_results` directory.


#### 3.1 Cumulative Distribution Function (CDF)
To reproduce the Cumulative Distribution Function (CDF) plots shown in Fig. 7, run:CDF_all_3_Fig7.m and CDF_all_4_Fig7.m


<img src="https://raw.githubusercontent.com/XiaoxiaoYang-com/P-GBSM/main/bp_slam_3D/all_results/3base_CDF_with_markers.jpg" width = 40%>


#### 3.2 Quantitative performance metrics
To generate the quantitative performance metrics corresponding to Table III, run: CDF_all_3_tab_3.m and CDF_all_4_tab_3.m


| Method   | MAE   | RMSE  | STD   | MAX   | 1-Ïƒ   | 2-Ïƒ   |
|----------|-------|-------|-------|-------|-------|-------|
| Qua_322  | 2.667 | 3.254 | 1.867 | 1.492 | 0.918 | 1.465 |
| Ours_322 | 0.532 | 0.692 | 0.443 | 0.979 | 0.143 | 0.841 |
| Qua_333  | 4.055 | 4.792 | 2.555 | 3.692 | 3.126 | 3.668 |
| Ours_333 | 0.580 | 0.789 | 0.536 | 1.292 | 0.179 | 1.095 |
| Qua_334  | 4.589 | 5.279 | 2.613 | 4.026 | 3.532 | 4.011 |
| Ours_334 | 3.409 | 4.084 | 2.249 | 3.326 | 2.495 | 3.308 |
| Qua_422  | 1.792 | 2.338 | 1.503 | 1.640 | 0.895 | 1.599 |
| Ours_422 | 0.246 | 0.297 | 0.167 | 0.157 | 0.100 | 0.141 |
| Qua_433  | 2.250 | 2.628 | 1.359 | 0.844 | 0.719 | 0.834 |
| Ours_433 | 0.420 | 0.546 | 0.348 | 0.547 | 0.167 | 0.423 |
| Qua_434  | 4.687 | 5.411 | 2.706 | 4.089 | 3.501 | 4.073 |
| Ours_434 | 1.638 | 1.849 | 0.859 | 1.307 | 0.739 | 1.219 |





#### 3.3 3D trajectories and qualitative
To visualize the 3D trajectories and qualitative bp_slam results, run: guiji_all_3_Qualitative_3D.m and guiji_all_4_Qualitative_3D.m


<img src="https://github.com/XiaoxiaoYang-com/P-GBSM/blob/main/bp_slam_3D/all_results/mgbsm_qua_guiji_3_3.jpg" width = 40%>

#### 3.4 Agent position RMSE

To analyze the step-by-step root mean square error (RMSE) of the positioning results, run: mgbsm_position_error_3_.m and  mgbsm_position_error_4_.m

